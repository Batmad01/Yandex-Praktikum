# Финальный проект - A/B-тестирование
# Постановка задачи

Основная задача — провести оценку результатов A/B-теста. В нашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов. 

# Техническое задание

- Название теста: `recommender_system_test`;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    - конверсии в просмотр карточек товаров — событие `product_page`,
    - просмотры корзины — `product_cart`,
    - покупки — `purchase`.

# Последовательность выполнения проекта

- Загрузка данных, их изучение и подготовка к дальнейшему анализу
- Оценка корректности проведения теста. Что стоит рассмотреть подробно:
    - Соответствие данных требованиям технического задания. Проверка корректности всех пунктов технического задания.
    - Время проведения теста. Нужно убедиться, что оно не совпадает с маркетинговыми и другими активностями.
    - Аудиторию теста. Удостоверимся, что нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста одновременно. Затем проверим равномерность распределения по тестовым группам и правильность их формирования.
- Провести исследовательский анализ данных и ответить на вопросы:
    - Количество событий на пользователя одинаково распределены в выборках?
    - Как число событий в выборках распределено по дням?
    - Как меняется конверсия в воронке в выборках на разных этапах?
    - Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?
- Оценить результаты A/B-тестирования:
    - Что можно сказать про результаты A/В-тестирования?
    - Проверка статистической разницы долей z-критерием.
- Подведение итогов по проекту

**Основные выводы**

* Начнём с того, что количество пользователей в группах А и В было неодинаковым. В группе А присутствует 3824 человека, а в группе В - 2877 человек, всего 6701 человек, группы делятся не равномерно - 57% (А) и 43% (В). На этапе анализа событий ситуация стала ещё хуже - в группе А 2747 человек (75%), в группе В 928 человек (25%). Данное обстоятельство уже значительно будет сказываться на тесте. Мне кажется, что проведение теста по таким данным не является корректным. Тем не менее можем посмотреть на результаты этого теста.
* По всем основным метрикам (событиям) на одного пользователя за исследуемый период (с 12 декабря по 4 января) группа А опережает группу В:
    * Просмотр страницы товара (А - 2 события на пользователя, B - 1.5 события на пользователя)
    * Добавление товара в корзину (А - 0.93 события на пользователя, В - 0.74 события на пользователя)
    * Покупка (А - 0.97 события на пользователя, В - 0.73 события на пользователя)
* Больше всего событий в группах А и В было 21 декабря (2011 и 430 событий соответственно). После 21 декабря наблюдается спад количества событий для обеих групп.
* Если смотреть на воронку конверсии по событиям, то можно сказать, что до покупки доходят 31% пользователей группы А и 26% пользователей группы В. При этом на всех уровнях воронки конверсия лучше у группы А. 
* Смотря на изменение ключевых метрик за 14 дней с момента регистрации пользователя можно сказать, что за 2 недели лайфтайма пользователя группа А опережает группу В по росту всех основных метрик, хотя в некоторых случаях разница и не столь велика.
* Проверка гипотез о равенстве долей для основных метрик показала, что только по одному типу события - `product_pages` p-value оказался меньше, чем критический уровень значимости (альфа). Тогда для долей этого события есть значимая разница. Для двух других метрик p-value меньше альфы, то есть между долями нет значимой разницы.
* По данным теста мы получили, что группа А является лучшей из двух групп по показателям основных метрик. С другой стороны, сам тест не является корректным на 100%, его результаты нельзя принять за истинные.
